@import "./common.module";

@mixin default-section {
  max-width: $max-width;
  // border: 1px solid red;
  margin: $margin * 4 auto;
}

@mixin section-title-wrap {
  // border: 4px solid orange;
  width: 320px;
  margin-right: $margin * 2;
  flex-shrink: 0;
}

.category_container {
  overflow-x: hidden;
  padding-top: $header-height;
  @include mobile {
    padding-top: $header-height-mb2;
  }

  width: 100%;
  position: relative;

  @include mobile {
    margin-top: 0;
  }

  overflow: auto;

  width: 100%;
  position: relative;

  min-height: 100vh;

  margin: 0 auto;

  .section_title {
    font-size: $margin * 1.6;
    font-weight: 300;
    letter-spacing: 1.5px;
    margin-bottom: $margin * 1.2;
    text-align: center;
  }
  .section_title_wrapper {
    @include section-title-wrap;
  }

  .exhibition_container {
    @include default-section;
    overflow: hidden;
    position: relative;
    .exhibition_arrow_button_wrap {
      position: absolute;
      right: 0;
      top: 0;
      display: flex;
      div {
        width: $margin * 1.2;
        height: $margin * 1.2;
        @include flex;

        margin-left: $padding;
        cursor: pointer;
      }
    }
    .exhibition {
      display: flex;
      flex: 1;
      flex-direction: column;
      width: 100%;

      .exhibition_thumbnail {
        @include default-image;
        aspect-ratio: 1;
        height: 420px;
      }
      .title {
        margin-top: $padding;
        font-size: $margin * 1.1;
        font-weight: 600;
      }
      .subtitle {
        margin-top: $default;
        line-height: 24px;
        color: $color-skeleton-100;
      }
      hr {
        width: 40%;
        border: none;
        border: 3px solid $color-dark-300;
      }
      border-right: 1px solid rgba($color-skeleton-100, 0.7);
      padding: $padding;
      &:last-child {
        border: none;
        padding-right: 0;
      }
      &:first-child {
        padding-left: 0;
      }

      .exhibition_item_wrap {
        margin-top: $margin;
        .exhibition_item {
          border-top: 1px solid rgba($color-skeleton-100, 0.3);
          padding: $default 0;
        }
      }
    }
  }
  .md_pick_container {
    background-color: #303033;
    .md_pick_wrapper {
      // overflow-x: hidden;
      padding: $margin * 2 0;
      @include default-section;
      color: $color-background-100;
      @media (max-width: 1512) {
        overflow-x: hidden;
      }
    }
  }
  .recommend_items_container {
    @include default-section;
    .recommend_items_wrapper {
      @include display-grid($colum: repeat(5, 1fr));
    }
  }
  .category_best_item_container {
    // display: flex;
    @include default-section;

    .category_best_item_wrap {
      display: flex;
      width: 100%;

      .first_ranking {
        width: 40%;

        margin-right: $margin;
        position: relative;
      }
      .ranking_wrap {
        @include display-grid($colum: repeat(3, 1fr));
        width: 60%;
      }
      .rank {
        width: 100%;
        position: relative;
        .rank_badge {
          position: absolute;
          z-index: 1;
          background-color: $color-dark-300;
          color: $color-background-100;
          font-weight: 500;
          width: $margin * 2;
          height: $margin * 2;
          @include flex;
          font-size: 1.3em;
        }
      }
    }
  }
  .category_all_items_container {
    display: flex;
    @include default-section;
    .category_sidebar {
      @include section-title-wrap;
      .category_name {
        font-size: $default * 2.8;
        font-weight: 500;
        line-height: 1.29;
        margin-bottom: $margin * 3;
      }
      .sub_category {
        cursor: pointer;
        height: $margin * 2;
        @include flex($justify-content: space-between);
        padding: $default 0;
        p {
          font-weight: 600;
        }
        span {
          margin-left: 5px;
          color: $color-skeleton-100;
          font-size: 12px;
        }
        border-bottom: 0.3px solid rgba($color-skeleton-100, 0.3);
        svg {
          width: 14px;
          height: $padding;
        }
      }
      .active_category {
        border-bottom: 2.3px solid $color-dark-300;
      }
    }
    .category_contents_wrapper {
      position: relative;
      .item_loading_wrap {
        position: absolute;
        z-index: 1;
        width: calc($max-width - 350px);
      }
      .filter_wrapper {
        margin-bottom: $margin;
        @include flex($justify-content: space-between);
        .filter_wrap {
          span {
            cursor: pointer;
            margin-right: $padding;
            color: $color-skeleton-100;
            cursor: pointer;
            font-weight: 500;
            cursor: pointer;
          }
        }
        .filter_icon_wrap {
          svg {
            cursor: pointer;
            color: $color-skeleton-100;
          }
        }
        .active_filter {
          font-weight: 600;
          color: $color-dark-300 !important;
        }
      }
      .all_items_wrapper {
        display: grid;
        transition: all 1s ease-out;
      }
      .all_items_zoom {
        transition: all 1s ease-out;
        @include display-grid($colum: repeat(5, 1fr));
      }
      .all_items_zoom_in {
        transition: all 1s ease-out;
        @include display-grid($colum: repeat(3, 1fr));
      }
    }
  }
}

@mixin default-section_mb($padding: $padding) {
  margin: $margin * 1.2 0;
  // border: 1px solid red;
  padding: $padding;
}
.mobile_category_container {
  .section_title {
    margin-bottom: $padding;
    font-weight: $font-weight-medium;
  }

  margin-top: $header-height-mb2;
  display: flex;
  flex-grow: 1;
  flex-direction: column;
  position: relative;
  width: 100%;
  .exhibition_container {
    @include default-section_mb;
    padding-left: $padding;
    // @include default-section;
    overflow: hidden;

    .exhibition {
      width: 100%;
      transition:
        transform 0.5s ease-in-out,
        height 0.5s ease-in-out;

      .exhibition_thumbnail {
        @include default-image;
        // aspect-ratio: 1;
        height: 300px;
      }
      .title {
        margin-top: $default/2;
        font-size: 14px;
        font-weight: 600;
      }
      .subtitle {
        margin-top: $default;
        line-height: 24px;
        color: $color-skeleton-100;
        font-size: 13px;
      }
      hr {
        border: none;
      }

      padding-right: $default;
      &:last-child {
        padding-right: 0;
      }
    }
    .exhibition_disabled {
      opacity: 0.7;
      transform: scale(0.9);
      height: 360px;
      padding: 20px 0;

      img {
        height: 320px;
      }
    }
  }
  .category_best_item_container {
    @include default-section_mb($padding: 0);
    padding-left: $padding;
    .category_best_item {
      position: relative;
      margin-right: $default;
      &:last-child {
        margin-right: 0px;
      }
      .rank {
        position: absolute;
        top: 0;
        left: 0;
        background-color: $color-dark-300;
        width: $padding * 2;
        height: $padding * 2;
        color: $color-background-100;
        z-index: 10;
        @include flex;
      }
    }
  }
  .category_md_pick_container {
    background-color: #303033;
    @include default-section_mb($padding: $margin * 2);

    padding-left: $padding;
    padding-right: 0px;
    color: $color-background-100;
  }
  .for_u_container {
    @include default-section_mb($padding: 0);
  }
  .category_all_items_container {
    position: relative;

    .subcategory_filter_wrap {
      width: 100%;
      top: $header-height-mb2;

      position: sticky;
      z-index: 92;
      .subcategory_wrap {
        background-color: $color-background-100;

        border-bottom: 1px solid rgba($color-skeleton-100, 0.3);
        padding: 0 $margin * 1.2;
        display: flex;
        box-shadow: 0px 1px 0px 0px rgba($color-skeleton-100, 0.1);
        p {
          color: $color-skeleton-100;
          margin-right: $padding;
          padding: $default 0;
          text-align: center;

          &:last-child {
            margin-right: 0;
          }
        }

        .active_category {
          font-weight: $font-weight-medium;
          color: $color-dark-300 !important;
          border-bottom: 2px solid $color-dark-300;
        }
      }
      .order_filter_wrap {
        background-color: $color-background-100;
        border-bottom: 1px solid rgba($color-skeleton-100, 0.3);
        @include flex($justify-content: flex-end);
        .filter_icon_wrap {
          padding: $padding/2;
          @include flex($justify-content: flex-end);
        }
      }
    }

    .all_items_wrapper {
      z-index: 1;
      display: grid;
      transition: all 1s ease-out;
    }
    .all_items_zoom {
      transition: all 1s ease-out;
      @include display-grid($colum: repeat(2, 1fr));
    }
    .all_items_zoom_in {
      transition: all 1s ease-out;
      display: inline;
    }
  }
}

.category_menu_container {
  margin-top: $header-height-mb2;
  display: flex;
  flex-grow: 1;
  flex-direction: column;
  position: relative;
  width: 100%;
  // padding: 0 $padding;
  padding-top: $margin;
  padding-bottom: 100px;
  .event_banner {
    padding: 0 $padding;
    margin-bottom: $margin * 1.3;
    @include default-image;
    height: 80px;
  }
  .category_wrapper {
    margin: 0 $padding;
    @include flex;
    height: 40px;
    border-bottom: 1px solid $color-skeleton-100;
    p {
      @include flex;
      width: 100%;
      height: 100%;
      cursor: pointer;
      text-align: center;
      font-size: 14px;
      height: 100%;
      color: $color-dark-200;
    }
    .current_category {
      border-bottom: 2px solid $color-dark-300;
      font-weight: $font-weight-medium;
    }
  }
  .sub_category_container {
    padding: $margin $padding;
    font-size: 14px;
    border-bottom: 10px solid rgba($color-skeleton-100, 0.1);
    .sub_category_wrapper {
      .first_depth {
        padding: $default 0;
        font-weight: $font-weight-medium;
        @include flex($justify-content: space-between);
        svg {
          width: $padding;
          height: $padding;
        }
      }
      .second_depth {
        background-color: rgba($color-skeleton-100, 0.1);
        padding: $padding;
        margin-bottom: $default;

        @include display-grid($colum: repeat(2, 1fr));
      }
    }
  }
  .category_section_wrapper {
    padding-left: $padding;
    margin: $margin 0;
    .category_section_header {
      padding-right: $padding;
      margin-bottom: $padding;
      @include flex($justify-content: space-between);
      .category_section_title {
        font-size: $margin;
        font-weight: $font-weight-medium;
      }
      .category_section_more {
        font-size: $padding * 0.8;
        @include flex;
      }
    }
    .category_section_body {
      width: 100%;
      .category_section_card {
        position: relative;
        color: $color-background-100;
        font-weight: $font-weight-medium;
        .section_body_thumbnail {
          @include default-image;
          height: 193px;
          margin-bottom: $default;
        }
        .category_section_content {
          position: absolute;
          bottom: 15%;
          left: 5%;
          z-index: 1;
        }
        .section_body_title {
          font-size: 15px;
        }
        p {
          font-size: 12px;
        }
      }
    }
  }
}
